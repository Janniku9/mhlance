---
import { Icon } from 'astro-icon/components';

interface Props {
  class?: string;
}

const { class: className } = Astro.props;
---

<div
  data-community-card-auto-hover
  class:list={[
    'group relative bg-background-dark border border-text/10 rounded-xl md:rounded-3xl overflow-hidden',
    'transition-all duration-300 hover:bg-background-darker hover:scale-[1.02]',
    'hover:shadow-2xl hover:shadow-primary/5 animate-fade-in',
    className,
  ]}
>
  <!-- Hover gradient overlay -->
  <div
    class="absolute inset-0 bg-gradient-to-br from-primary/5 to-transparent
            opacity-0 group-hover:opacity-100 transition-all duration-300"
  >
  </div>

  <div class="p-4 sm:p-6 md:p-8 flex flex-col items-center text-center">
    <h2
      class="text-xl md:text-2xl font-bold mb-4 group-hover:text-primary transition-colors uppercase"
    >
      JOIN OUR COMMUNITY
    </h2>

    <p class="text-sm text-text/80 mb-6 max-w-2xl mx-auto">
      Want to contribute to MH Lance? Join our Discord server to connect with other lance
      enthusiasts and help make this resource even better!
    </p>

    <div class="flex flex-wrap justify-center gap-4 mb-6">
      <a
        href="/discord"
        class="group relative bg-[#5865F2]/20 border border-[#5865F2]/30 rounded-full px-4 py-2
              transition-all duration-300 hover:bg-[#5865F2]/30 hover:scale-105
              flex items-center justify-center gap-2"
      >
        <div
          class="absolute inset-0 bg-gradient-to-br from-[#5865F2]/10 to-transparent rounded-full
                opacity-0 group-hover:opacity-100 transition-all duration-300"
        >
        </div>
        <Icon
          name="mingcute:discord-fill"
          class="w-4 h-4 group-hover:text-[#5865F2] transition-colors"
        />
        <span class="font-medium text-sm group-hover:text-[#5865F2] transition-colors"
          >JOIN DISCORD</span
        >
        <Icon
          name="mingcute:arrow-right-line"
          class="w-4 h-4 transform group-hover:translate-x-1 group-hover:text-[#5865F2] transition-all duration-300"
        />
      </a>

      <a
        href="/github"
        class="group relative bg-text/5 border border-text/10 rounded-full px-4 py-2
              transition-all duration-300 hover:bg-text/10 hover:scale-105
              flex items-center justify-center gap-2"
      >
        <div
          class="absolute inset-0 bg-gradient-to-br from-primary/5 to-transparent rounded-full
                opacity-0 group-hover:opacity-100 transition-all duration-300"
        >
        </div>
        <Icon
          name="mingcute:github-fill"
          class="w-4 h-4 group-hover:text-primary transition-colors"
        />
        <span class="font-medium text-sm group-hover:text-primary transition-colors">GITHUB</span>
        <Icon
          name="mingcute:arrow-right-line"
          class="w-4 h-4 transform group-hover:translate-x-1 group-hover:text-primary transition-all duration-300"
        />
      </a>
    </div>

    <p class="text-xs text-text/60 mt-auto">Made with ❤️ by the Monster Hunter Lance community</p>
  </div>
</div>

<style>
  @keyframes fade-in {
    from {
      opacity: 0;
      transform: translateY(20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .animate-fade-in {
    animation: fade-in 0.5s ease-out forwards;
  }
</style>

<script>
  import autoHoverDirective from '../../directives/auto-hover';
  document.querySelectorAll('[data-community-card-auto-hover]').forEach((element) => {
    if (element instanceof HTMLElement) autoHoverDirective(element);
  });
</script>
