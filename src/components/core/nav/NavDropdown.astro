---
import type { NavItem } from '../../../types/Navigation';

interface Props {
  title: string;
  items: NavItem[];
  baseUrl: string;
}

const { title, items, baseUrl } = Astro.props;
---

<div class="relative group">
  <button class="text-text hover:text-primary transition-colors py-2 flex items-center gap-2">
    {title}
    <svg class="w-4 h-4" viewBox="0 0 20 20" fill="currentColor">
      <path
        fill-rule="evenodd"
        d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"
        clip-rule="evenodd"></path>
    </svg>
  </button>

  <div
    class="absolute left-0 top-full pt-2 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200"
  >
    <div class="bg-background-dark rounded-lg shadow-lg border border-text/10 p-4 min-w-[280px]">
      <ul class="space-y-3">
        {
          items.map((item) => (
            <li>
              <a href={`${baseUrl}/${item.id}`} class="group block">
                <span class="block text-sm text-text group-hover:text-primary transition-colors">
                  {item.title}
                </span>
                {item.description && (
                  <span class="block text-xs text-text/60 group-hover:text-primary/60 transition-colors mt-0.5">
                    {item.description}
                  </span>
                )}
              </a>
            </li>
          ))
        }
      </ul>
    </div>
  </div>
</div>
