---
import { games } from '../../../data/Navigation';

// Extract all items marked for quick links across all games
const quickLinks = games.flatMap((game) =>
  Object.entries(game.sections).flatMap(([sectionType, sections]) =>
    sections
      .filter((section) => section.showInQuickLinks)
      .map((section) => ({
        href: `/${game.game}/${sectionType}/${section.id}`,
        emoji: section.emoji,
        label: section.title,
        game: game.title,
        description: section.navDescription,
        // Color gradients based on section type
        color:
          sectionType === 'builds'
            ? 'from-green-500/20 to-green-600/20'
            : sectionType === 'guides'
              ? 'from-blue-500/20 to-blue-600/20'
              : sectionType === 'data'
                ? 'from-purple-500/20 to-purple-600/20'
                : 'from-orange-500/20 to-orange-600/20',
      }))
  )
);
---

<div class="flex flex-col gap-4">
  <h3
    class="text-sm font-medium text-secondary-light uppercase tracking-wider text-center lg:text-left"
  >
    Quick Links
  </h3>

  <!-- Responsive Grid: 2 cols mobile, 3 cols tablet, 4 cols desktop -->
  <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 2xl:grid-cols-5 gap-2 w-full">
    {
      quickLinks.map((link) => (
        <a
          href={link.href}
          class="group relative flex items-center gap-2 p-2 md:gap-3 md:p-3 rounded-xl bg-background-dark/60 backdrop-blur-sm
               border border-primary/10 transition-all duration-300 hover:border-primary/40
               hover:bg-background-dark/80 hover:shadow-lg hover:shadow-primary/10 hover:-translate-y-0.5"
          title={`${link.description} (${link.game})`}
        >
          {/* Gradient background on hover */}
          <div
            class={`absolute inset-0 rounded-xl bg-gradient-to-br ${link.color} opacity-0 
                     group-hover:opacity-100 transition-opacity duration-300`}
          />

          {/* Emoji */}
          <div class="relative z-10 flex-shrink-0 text-lg">{link.emoji}</div>

          {/* Label */}
          <span
            class="relative z-10 text-sm font-medium text-text/80 group-hover:text-text 
                     transition-colors duration-300 line-clamp-1"
          >
            {link.label}
          </span>

          {/* Subtle glow effect */}
          <div
            class="absolute inset-0 rounded-xl bg-primary/20 blur-xl opacity-0 
                    group-hover:opacity-30 transition-opacity duration-500 -z-10"
          />
        </a>
      ))
    }
  </div>
</div>
